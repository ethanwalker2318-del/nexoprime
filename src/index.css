@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  ::selection {
    background: rgba(89, 166, 255, 0.24);
    color: var(--text-primary);
  }

  button,
  input,
  select {
    font: inherit;
    color: inherit;
  }
}

@layer utilities {
  .premium-card {
    border: 1px solid var(--border-soft);
    background: linear-gradient(180deg, rgba(22, 35, 58, 0.94), rgba(13, 24, 42, 0.94));
    box-shadow: var(--shadow-elevated);
    backdrop-filter: blur(10px);
  }

  .premium-glow {
    box-shadow: var(--shadow-interactive);
  }

  .interactive-press {
    transform: scale(0.98);
  }
}

.dashboard-shell {
  position: relative;
  min-height: 100%;
  overflow-x: hidden;
}

.dashboard-shell::before {
  content: "";
  position: absolute;
  inset: -20% -20% auto;
  height: 480px;
  background:
    radial-gradient(circle at 20% 15%, rgba(89, 166, 255, 0.24), transparent 58%),
    radial-gradient(circle at 78% 12%, rgba(36, 108, 220, 0.2), transparent 62%);
  pointer-events: none;
}

.dashboard-shell::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(180deg, rgba(12, 21, 36, 0.08) 0%, rgba(5, 11, 23, 0.5) 75%),
    repeating-linear-gradient(
      to right,
      transparent 0,
      transparent 40px,
      rgba(97, 120, 156, 0.02) 40px,
      rgba(97, 120, 156, 0.02) 41px
    );
  pointer-events: none;
}

.dashboard-shell > * {
  position: relative;
  z-index: 1;
}

.institution-card {
  border-radius: var(--radius-md);
  border: 1px solid var(--border-soft);
  background:
    linear-gradient(180deg, rgba(20, 33, 54, 0.86), rgba(11, 20, 35, 0.94)),
    linear-gradient(120deg, rgba(101, 170, 255, 0.06), transparent 45%);
  box-shadow:
    0 18px 42px rgba(4, 14, 32, 0.46),
    inset 0 1px 0 rgba(216, 231, 255, 0.07);
  backdrop-filter: blur(8px);
}

.brand-emblem {
  display: inline-flex;
  height: 42px;
  width: 42px;
  align-items: center;
  justify-content: center;
  border-radius: 13px;
  border: 1px solid rgba(106, 169, 255, 0.4);
  background: linear-gradient(165deg, rgba(73, 147, 255, 0.22), rgba(55, 117, 222, 0.08));
  color: #cde6ff;
  box-shadow: 0 8px 20px rgba(41, 111, 212, 0.32);
}

.balance-panel::before {
  content: "";
  position: absolute;
  inset: -60px -20px auto;
  height: 160px;
  background: radial-gradient(circle at 12% 0%, rgba(105, 173, 255, 0.22), transparent 60%);
  pointer-events: none;
}

.balance-shimmer::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(105deg, transparent 28%, rgba(177, 215, 255, 0.18) 48%, transparent 65%);
  animation: shimmer-sweep 0.72s cubic-bezier(0.22, 1, 0.36, 1);
  pointer-events: none;
}

.change-indicator {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border-radius: 999px;
  border: 1px solid transparent;
  padding: 6px 11px;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.05em;
}

.change-indicator-positive {
  border-color: rgba(39, 179, 106, 0.35);
  background: rgba(39, 179, 106, 0.14);
  color: #7ee5af;
}

.change-indicator-negative {
  border-color: rgba(239, 93, 109, 0.35);
  background: rgba(239, 93, 109, 0.14);
  color: #ff9faa;
}

.profile-trigger-button {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border-radius: 999px;
  border: 1px solid rgba(126, 160, 204, 0.34);
  background: linear-gradient(180deg, rgba(26, 39, 62, 0.78), rgba(17, 26, 43, 0.88));
  padding: 4px 8px 4px 4px;
  transition: border-color 0.2s cubic-bezier(0.22, 1, 0.36, 1);
}

.profile-trigger-button:hover {
  border-color: rgba(106, 169, 255, 0.58);
}

.profile-avatar {
  display: inline-flex;
  height: 32px;
  width: 32px;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  border: 1px solid rgba(106, 169, 255, 0.42);
  background: linear-gradient(165deg, rgba(85, 156, 255, 0.22), rgba(53, 96, 162, 0.1));
}

.menu-panel {
  position: absolute;
  right: 0;
  top: calc(100% + 8px);
  min-width: 196px;
  border-radius: 14px;
  border: 1px solid rgba(126, 160, 204, 0.32);
  background: linear-gradient(180deg, rgba(14, 25, 42, 0.95), rgba(9, 17, 30, 0.97));
  box-shadow: 0 18px 42px rgba(4, 14, 32, 0.44);
  padding: 6px;
  z-index: 12;
}

.menu-item {
  width: 100%;
  border-radius: 10px;
  border: 0;
  background: transparent;
  color: var(--text-primary);
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  padding: 9px 10px;
  text-align: left;
  transition: background-color 0.2s cubic-bezier(0.22, 1, 0.36, 1);
}

.menu-item:hover {
  background: rgba(97, 156, 241, 0.16);
}

.menu-item-danger {
  color: #ff9faa;
}

.action-depth-button {
  position: relative;
  overflow: hidden;
  border-radius: 14px;
  border: 1px solid rgba(126, 160, 204, 0.32);
  cursor: pointer;
  padding: 14px 14px;
  transition:
    transform 0.2s cubic-bezier(0.22, 1, 0.36, 1),
    box-shadow 0.2s cubic-bezier(0.22, 1, 0.36, 1),
    border-color 0.2s cubic-bezier(0.22, 1, 0.36, 1);
  box-shadow:
    inset 0 1px 0 rgba(210, 228, 255, 0.06),
    0 16px 28px rgba(5, 13, 25, 0.34);
}

.action-depth-button:hover {
  border-color: rgba(116, 173, 255, 0.52);
  box-shadow:
    inset 0 1px 0 rgba(213, 232, 255, 0.1),
    0 18px 32px rgba(22, 76, 158, 0.35),
    0 0 0 1px rgba(104, 168, 255, 0.22);
}

.action-button-blue {
  background: linear-gradient(165deg, rgba(51, 113, 203, 0.45), rgba(23, 47, 81, 0.92));
}

.action-button-teal {
  background: linear-gradient(165deg, rgba(36, 133, 121, 0.36), rgba(16, 50, 61, 0.92));
}

.action-button-slate {
  background: linear-gradient(165deg, rgba(93, 116, 154, 0.35), rgba(29, 37, 54, 0.92));
}

.action-ripple {
  position: absolute;
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: rgba(198, 225, 255, 0.5);
  transform: translate(-50%, -50%);
  animation: ripple 0.62s cubic-bezier(0.22, 1, 0.36, 1);
  pointer-events: none;
  z-index: 1;
}

.asset-card {
  border-radius: 14px;
  border: 1px solid rgba(126, 160, 204, 0.28);
  background: linear-gradient(180deg, rgba(17, 30, 50, 0.78), rgba(12, 22, 38, 0.88));
  padding: 13px;
  transition:
    border-color 0.22s cubic-bezier(0.22, 1, 0.36, 1),
    box-shadow 0.22s cubic-bezier(0.22, 1, 0.36, 1);
}

.asset-card:hover {
  border-color: rgba(121, 176, 255, 0.5);
  box-shadow:
    0 16px 26px rgba(18, 68, 143, 0.24),
    inset 0 1px 0 rgba(209, 228, 255, 0.09);
}

.asset-icon {
  display: inline-flex;
  min-width: 48px;
  justify-content: center;
  border-radius: 10px;
  border: 1px solid;
  padding: 5px 8px;
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 0.1em;
}

.asset-change {
  border-radius: 999px;
  border: 1px solid transparent;
  padding: 4px 8px;
  font-size: 11px;
  font-weight: 700;
}

.asset-change-positive {
  border-color: rgba(39, 179, 106, 0.34);
  background: rgba(39, 179, 106, 0.12);
  color: #7ee5af;
}

.asset-change-negative {
  border-color: rgba(239, 93, 109, 0.34);
  background: rgba(239, 93, 109, 0.12);
  color: #ff9faa;
}

.review-dot {
  height: 8px;
  width: 8px;
  border: 0;
  border-radius: 999px;
  background: rgba(132, 154, 186, 0.42);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.22, 1, 0.36, 1);
}

.review-dot-active {
  width: 21px;
  background: rgba(120, 182, 255, 0.9);
  box-shadow: 0 0 0 1px rgba(120, 182, 255, 0.34);
}

.metric-card {
  border-radius: 13px;
  border: 1px solid rgba(126, 160, 204, 0.26);
  background: linear-gradient(180deg, rgba(17, 31, 52, 0.76), rgba(10, 19, 34, 0.86));
  padding: 12px;
}

.onboarding-panel {
  border-radius: 18px;
}

.onboarding-input {
  width: 100%;
  border-radius: 12px;
  border: 1px solid rgba(126, 160, 204, 0.36);
  background: rgba(8, 18, 32, 0.72);
  padding: 11px 12px;
  font-size: 15px;
  outline: none;
  transition:
    border-color 0.2s cubic-bezier(0.22, 1, 0.36, 1),
    box-shadow 0.2s cubic-bezier(0.22, 1, 0.36, 1);
}

.onboarding-input:focus {
  border-color: rgba(108, 171, 255, 0.72);
  box-shadow: 0 0 0 3px rgba(70, 141, 235, 0.18);
}

.select-chip {
  border-radius: 11px;
  border: 1px solid rgba(126, 160, 204, 0.3);
  background: rgba(12, 25, 43, 0.62);
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  padding: 9px 10px;
  transition:
    border-color 0.2s cubic-bezier(0.22, 1, 0.36, 1),
    background-color 0.2s cubic-bezier(0.22, 1, 0.36, 1),
    box-shadow 0.2s cubic-bezier(0.22, 1, 0.36, 1);
}

.select-chip-active {
  border-color: rgba(112, 176, 255, 0.7);
  background: rgba(67, 126, 211, 0.24);
  box-shadow: 0 0 0 1px rgba(107, 172, 255, 0.3);
}

.primary-action-button {
  width: 100%;
  border: 0;
  border-radius: 14px;
  background: linear-gradient(165deg, rgba(89, 166, 255, 0.85), rgba(36, 98, 186, 0.94));
  color: #f1f7ff;
  cursor: pointer;
  font-size: 14px;
  font-weight: 700;
  margin-top: 12px;
  min-height: 44px;
  transition:
    opacity 0.2s cubic-bezier(0.22, 1, 0.36, 1),
    box-shadow 0.2s cubic-bezier(0.22, 1, 0.36, 1),
    transform 0.2s cubic-bezier(0.22, 1, 0.36, 1);
  box-shadow:
    0 14px 30px rgba(32, 95, 192, 0.38),
    inset 0 1px 0 rgba(227, 239, 255, 0.35);
}

.primary-action-button:disabled {
  cursor: not-allowed;
  opacity: 0.5;
  box-shadow: none;
}

@keyframes ripple {
  0% {
    transform: translate(-50%, -50%) scale(0.25);
    opacity: 0.65;
  }
  100% {
    transform: translate(-50%, -50%) scale(4.1);
    opacity: 0;
  }
}

@keyframes shimmer-sweep {
  0% {
    transform: translateX(-80%);
    opacity: 0;
  }
  35% {
    opacity: 1;
  }
  100% {
    transform: translateX(80%);
    opacity: 0;
  }
}

/* ===== APP SHELL + ROUTING ===== */
.app-shell {
  position: relative;
  display: flex;
  flex-direction: column;
  min-height: 100%;
  height: 100%;
}

.app-screen {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

/* ===== BOTTOM NAVIGATION ===== */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  align-items: stretch;
  gap: 2px;
  padding: 6px 8px calc(6px + env(safe-area-inset-bottom, 0px));
  border-top: 1px solid rgba(126, 160, 204, 0.2);
  background: linear-gradient(
    180deg,
    rgba(7, 18, 35, 0.92) 0%,
    rgba(5, 11, 22, 0.98) 100%
  );
  backdrop-filter: blur(20px) saturate(1.5);
  -webkit-backdrop-filter: blur(20px) saturate(1.5);
  z-index: 100;
  box-shadow: 0 -1px 0 rgba(97, 140, 196, 0.14), 0 -16px 40px rgba(3, 8, 18, 0.4);
}

.bottom-nav-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 7px 4px 5px;
  border: 0;
  border-radius: 12px;
  background: transparent;
  cursor: pointer;
  transition: background-color 0.18s cubic-bezier(0.22, 1, 0.36, 1);
  -webkit-tap-highlight-color: transparent;
}

.bottom-nav-item:active {
  background: rgba(89, 166, 255, 0.1);
  transform: scale(0.96);
  transition: transform 0.1s, background 0.1s;
}

.bottom-nav-item-active {
  background: rgba(89, 166, 255, 0.1);
}

.bottom-nav-icon {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-secondary);
}

.bottom-nav-item-active .bottom-nav-icon {
  color: var(--accent-trust);
}

.bottom-nav-indicator {
  position: absolute;
  inset: -6px -8px;
  border-radius: 10px;
  background: rgba(89, 166, 255, 0.12);
  z-index: -1;
}

.bottom-nav-label {
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: var(--text-secondary);
  line-height: 1;
  transition: color 0.18s cubic-bezier(0.22, 1, 0.36, 1);
}

.bottom-nav-item-active .bottom-nav-label {
  color: var(--accent-trust);
}

/* ===== UTILITY CLASSES FOR NEW SCREENS ===== */
.border-soft { border-color: var(--border-soft); }
.bg-surface { background: var(--bg-surface); }
.text-textPrimary { color: var(--text-primary); }
.text-textSecondary { color: var(--text-secondary); }
.text-profit { color: var(--profit); }
.text-loss { color: var(--loss); }
.text-trust { color: var(--accent-trust); }
.bg-trust\/6 { background: rgba(89, 166, 255, 0.06); }
.bg-trust\/8 { background: rgba(89, 166, 255, 0.08); }
.bg-trust\/10 { background: rgba(89, 166, 255, 0.10); }
.bg-trust\/12 { background: rgba(89, 166, 255, 0.12); }
.bg-trust\/14 { background: rgba(89, 166, 255, 0.14); }
.bg-trust\/15 { background: rgba(89, 166, 255, 0.15); }
.bg-trust\/18 { background: rgba(89, 166, 255, 0.18); }
.bg-trust\/20 { background: rgba(89, 166, 255, 0.20); }
.bg-profit\/6 { background: rgba(39, 179, 106, 0.06); }
.bg-profit\/8 { background: rgba(39, 179, 106, 0.08); }
.bg-profit\/10 { background: rgba(39, 179, 106, 0.10); }
.bg-profit\/12 { background: rgba(39, 179, 106, 0.12); }
.bg-profit\/15 { background: rgba(39, 179, 106, 0.15); }
.bg-profit\/20 { background: rgba(39, 179, 106, 0.20); }
.bg-profit\/25 { background: rgba(39, 179, 106, 0.25); }
.bg-profit\/30 { background: rgba(39, 179, 106, 0.30); }
.bg-loss\/6 { background: rgba(239, 93, 109, 0.06); }
.bg-loss\/8 { background: rgba(239, 93, 109, 0.08); }
.bg-loss\/10 { background: rgba(239, 93, 109, 0.10); }
.bg-loss\/12 { background: rgba(239, 93, 109, 0.12); }
.bg-loss\/15 { background: rgba(239, 93, 109, 0.15); }
.bg-loss\/20 { background: rgba(239, 93, 109, 0.20); }
.border-trust\/15 { border-color: rgba(89, 166, 255, 0.15); }
.border-trust\/20 { border-color: rgba(89, 166, 255, 0.20); }
.border-trust\/25 { border-color: rgba(89, 166, 255, 0.25); }
.border-trust\/30 { border-color: rgba(89, 166, 255, 0.30); }
.border-trust\/40 { border-color: rgba(89, 166, 255, 0.40); }
.border-trust\/50 { border-color: rgba(89, 166, 255, 0.50); }
.border-profit\/15 { border-color: rgba(39, 179, 106, 0.15); }
.border-profit\/20 { border-color: rgba(39, 179, 106, 0.20); }
.border-profit\/25 { border-color: rgba(39, 179, 106, 0.25); }
.border-profit\/30 { border-color: rgba(39, 179, 106, 0.30); }
.border-loss\/15 { border-color: rgba(239, 93, 109, 0.15); }
.border-loss\/20 { border-color: rgba(239, 93, 109, 0.20); }
.border-loss\/25 { border-color: rgba(239, 93, 109, 0.25); }
.border-loss\/30 { border-color: rgba(239, 93, 109, 0.30); }
.border-soft\/40 { border-color: rgba(153, 178, 214, 0.40); }
.border-soft\/50 { border-color: rgba(153, 178, 214, 0.50); }
.divide-soft\/50 > * + * { border-color: rgba(153, 178, 214, 0.50); }
.bg-amber-500\/8 { background: rgba(245, 158, 11, 0.08); }
.bg-emerald-400\/10 { background: rgba(52, 211, 153, 0.10); }
.text-emerald-400 { color: #34d399; }
.border-emerald-400\/40 { border-color: rgba(52, 211, 153, 0.40); }

